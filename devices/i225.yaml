device: I225
version: Rev 2.6
spec_reference: external/intel_avb/spec/2407151103_Intel-Altera-KTI226V-S-RKTU_C26159200.pdf
blocks:
  - name: PTP
    base: 0x0B600
    registers:
      - name: SYSTIML
        offset: 0x0
        width: 32
        description: System time register Low
        access: ro
      - name: SYSTIMH
        offset: 0x4
        width: 32
        description: System time register High
        access: ro
      - name: TIMINCA
        offset: 0x8
        width: 32
        description: Time Increment Attributes
        access: rw
      - name: TSYNCTXCTL
        offset: 0x14
        width: 32
        description: TX Time Sync Control Register (0xB614)
        access: rw
        fields:
          - name: TXTT
            lsb: 0
            width: 1
            description: Tx timestamp valid (RO/V) - clears on read of TXSTMPH
          - name: EN
            lsb: 4
            width: 1
            description: Enable TX timestamping
      - name: TXSTMPL
        offset: 0x18
        width: 32
        description: TX Timestamp Value Low
        access: ro
      - name: TXSTMPH
        offset: 0x1C
        width: 32
        description: TX Timestamp Value High
        access: ro
      - name: TSYNCRXCTL
        offset: 0x20
        width: 32
        description: RX Time Sync Control Register (0xB620; RW)
        access: rw
        fields:
          - name: RXTT
            lsb: 0
            width: 1
            description: Rx timestamp valid (RO/V) - clears on read of RXSTMPH
          - name: TYPE
            lsb: 1
            width: 3
            description: Packet types to timestamp (V1/V2/All/Event)
          - name: EN
            lsb: 4
            width: 1
            description: Enable RX timestamping
          - name: SYSCFI
            lsb: 5
            width: 1
            description: System Clock Frequency Indication
      - name: RXSTMPL
        offset: 0x24
        width: 32
        description: RX Timestamp Low (0xB624; RO)
        access: ro
      - name: RXSTMPH
        offset: 0x28
        width: 32
        description: RX Timestamp High (0xB628; RO)
        access: ro
  - name: MAC_CTRL
    base: 0x00000
    registers:
      - name: CTRL
        offset: 0x0
        width: 32
        description: Device Control
        spec_section: Section 3.5.1 (TFCE), Section 6.4.2 (VME), Section 6.6 (EXT_VLAN)
      - name: STATUS
        offset: 0x8
        width: 32
        description: Device Status
      - name: CTRL_EXT
        offset: 0x18
        width: 32
        description: Extended Device Control
        spec_section: Section 6.6 (EXT_VLAN)

  - name: MDIO
    base: 0x00020
    registers:
      - name: MDIC
        offset: 0x0
        width: 32
        description: MDI Control (MDIO/MDC access to internal PHY)
        spec_section: Section 1.1.1 (MDIO interface)
        access: rw
        fields:
          - name: DATA
            lsb: 0
            width: 16
            description: MDIO read/write data
          - name: REG
            lsb: 16
            width: 5
            description: MDIO register address
          - name: PHY
            lsb: 21
            width: 5
            description: MDIO PHY address
          - name: OP
            lsb: 26
            width: 2
            description: MDIO operation (01=write, 10=read)
          - name: R
            lsb: 28
            width: 1
            description: Ready/busy status
          - name: I
            lsb: 29
            width: 1
            description: Interrupt (set when MDIO operation completes)
          - name: E
            lsb: 30
            width: 1
            description: Error indicator

  - name: INTERRUPTS
    base: 0x000C0
    registers:
      - name: ICR
        offset: 0x0
        width: 32
        description: Interrupt Cause Read
        access: rc/w1c
        fields:
          - name: TXDW
            lsb: 0
            width: 1
            description: Transmit Descriptor Written Back
          - name: TXQE
            lsb: 1
            width: 1
            description: Transmit Queue Empty
          - name: LSC
            lsb: 2
            width: 1
            description: Link Status Change
          - name: RXDMT0
            lsb: 4
            width: 1
            description: Receive Descriptor Minimum Threshold hit
          - name: RXO
            lsb: 6
            width: 1
            description: Receiver Overrun
          - name: RXT0
            lsb: 7
            width: 1
            description: Receiver Timer Interrupt
      - name: ICS
        offset: 0x8
        width: 32
        description: Interrupt Cause Set
        access: wo
      - name: IMS
        offset: 0x10
        width: 32
        description: Interrupt Mask Set/Read
        access: rw
        fields:
          - name: TXDW
            lsb: 0
            width: 1
            description: Mask for Transmit Descriptor Written Back
          - name: TXQE
            lsb: 1
            width: 1
            description: Mask for Transmit Queue Empty
          - name: LSC
            lsb: 2
            width: 1
            description: Link Status Change mask
          - name: RXDMT0
            lsb: 4
            width: 1
            description: Mask for Receive Descriptor Minimum Threshold hit
          - name: RXO
            lsb: 6
            width: 1
            description: Mask for Receiver Overrun
          - name: RXT0
            lsb: 7
            width: 1
            description: Mask for Receiver Timer Interrupt
      - name: IMC
        offset: 0x18
        width: 32
        description: Interrupt Mask Clear
        access: wo

  - name: EXT_INTERRUPTS
    base: 0x01500
    registers:
      - name: EIMS
        offset: 0x24
        width: 32
        description: Extended Interrupt Mask Set/Read
        access: rw
      - name: EIMC
        offset: 0x28
        width: 32
        description: Extended Interrupt Mask Clear
        access: wo
      - name: EIAC
        offset: 0x2C
        width: 32
        description: Extended Interrupt Auto Clear Enable
        access: rw
      - name: EIAM
        offset: 0x30
        width: 32
        description: Extended Interrupt Auto Mask Enable
        access: rw
      - name: EICR
        offset: 0x80
        width: 32
        description: Extended Interrupt Cause Read
        access: rc/w1c

  - name: TSN
    base: 0x08600
    registers:
      - name: TAS_CTRL
        offset: 0x0
        width: 32
        description: Time Aware Shaper Control
        access: rw
      - name: TAS_CONFIG0
        offset: 0x4
        width: 32
        description: TAS Base Time Low / Cycle Config
        access: rw
      - name: TAS_CONFIG1
        offset: 0x8
        width: 32
        description: TAS Base Time High
        access: rw
      - name: TAS_GATE_LIST
        offset: 0x10
        width: 32
        description: TAS Gate List Base
        access: rw

  - name: FRAME_PREEMPTION
    base: 0x08700
    registers:
      - name: FP_CONFIG
        offset: 0x0
        width: 32
        description: Frame Preemption Config
        access: rw
      - name: FP_STATUS
        offset: 0x4
        width: 32
        description: Frame Preemption Status
        access: ro

  - name: PTM
    base: 0x08800
    registers:
      - name: PTM_CONFIG
        offset: 0x0
        width: 32
        description: PCIe PTM Configuration
        access: rw
      - name: PTM_STATUS
        offset: 0x4
        width: 32
        description: PCIe PTM Status
        access: ro

  - name: EITR
    base: 0x01680
    registers:
      - name: EITR0
        offset: 0x0
        width: 32
        description: Interrupt Throttle for vector 0
      - name: EITR1
        offset: 0x4
        width: 32
        description: Interrupt Throttle for vector 1
      - name: EITR2
        offset: 0x8
        width: 32
        description: Interrupt Throttle for vector 2
      - name: EITR3
        offset: 0xC
        width: 32
        description: Interrupt Throttle for vector 3

  - name: MAC_ADDR
    base: 0x05400
    registers:
      - name: RAL0
        offset: 0x0
        width: 32
        description: Receive Address Low 0 (lower 32 bits of MAC)
        spec_section: Section 5.1.1.1-5.1.1.3 (NVM IA → RAL0/RAH0)
      - name: RAH0
        offset: 0x4
        width: 32
        description: Receive Address High 0 (upper 16 bits + AV bit)
        spec_section: Section 5.1.1.1-5.1.1.3 (NVM IA → RAL0/RAH0)

  - name: VLAN
    base: 0x05600
    registers:
      - name: VFTA0
        offset: 0x0
        width: 32
        description: VLAN Filter Table Array [0]
        spec_section: Section 6.5 (802.1Q VLAN Packet Filtering)

  - name: LED
    base: 0x00E00
    registers:
      - name: LEDCTL
        offset: 0x0
        width: 32
        description: LED Control Register
        spec_section: Section 3.4 (Configurable LED Outputs)
